SOS，全部堆到中间代码生成设计了qaq。

不考虑延迟槽。

### 1.语法树

#### 声明(declaration)

```shell
# Class
CompUnit
Decl, Def
```

#### 函数(function)

```shell
# Class
FuncDef
FuncCall	# 就不包括printf了
FuncParam	
```

#### 控制流(Stmt)

```shell
# Class
Block, BlockItem
Stmt
Assign, If, While, Continue, Break, Return, Printf
```

种类划分(继承关系)：

```shell
BlockItem -> Decl 	# Decl
			| Stmt  # Stmt
Stmt ->  LVal '=' Exp ';'	# Assign
		| Block	# Block
		| 'if' '(' Cond ')' Stmt [ 'else' Stmt ] 	# If
		| 'while' '(' Cond ')' Stmt	# While
		| 'break' ';' # Break
		| 'continue' ';' # Continue
		| 'return' [Exp] ';' # Return
		| LVal '=' 'getint''('')'';' # Assign
		| 'printf''('FormatString{','Exp}')'';' # Printf 
		| [Exp] ';'	# Exp | 空Block
```

#### 表达式(Exp)

```shell
# Class
# 需要确定叶子节点
Exp
UnaryExp, BinaryExp
LVal, Num
```

继承关系：

```shell
Exp -> 
# UnaryExp
# BinaryExp
# LVal
# Num
# FuncCall
```

#### 其它事项

​	由于`BType`目前是`int`，因此很多字段没有设置类，需要为`BType`预留字段。

### 2.符号表



### 3.四元式

```
add, sub, mult, div
bne
```



* 栈指针：保存进函数前的变量(现场)
* 帧指针：传函数参数。